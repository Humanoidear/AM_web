---
import type { CollectionEntry } from "astro:content";
import BaseHead from "../components/BaseHead.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import FormattedDate from "../components/FormattedDate.astro";

type Props = CollectionEntry<"work">["data"];

const { title, type, services, year, pubDate, updatedDate, heroImage } = Astro.props;
---

<html lang="en">
  <head>
    <BaseHead title={title} description={} />
  </head>

  <body>
    <Header />
    <main class="flex flex-col items-center">
      <div class="w-full">
        <div class="flex items-end justify-end rounded-none">
          {
            heroImage && (
			<p class="top-24 right-6 text-white p-1 pl-3 pr-3 rounded-lg bg-white/10 backdrop-blur-md absolute">
              <FormattedDate date={pubDate} />
            </p>
              <img class="w-full max-w-[1300px] h-[400px]" src={heroImage} alt="" />
            )
          }
        </div>
        <div class="flex items-center justify-center">
          <div
            class="top-6 w-[95%] max-w-[1300px] flex sm:flex-row flex-col items-start justify-between gap-5 relative"
          >
		  <img class="w-[700px] -translate-x-[150px] -translate-y-[350px] rotate-90 opacity-60 z-0 absolute" src="/img/blob-1.webp">
            <h3 class="font-[MGNHumble] text-white text-6xl z-10 relative" transition:name={`work-title-${title}`}>{title}</h3>
            <p class="font-semibold text-white text-2xl" transition:name={`work-title-${title}-type`}>{type}</p>
			<ul>
				<p>Services</p>
				{services.map(service => (
				  <li class="font-semibold text-white text-2xl">{service}</li>
				))}
			  </ul>
			<div transition:name={`work-title-${title}-year`}>
				<p>Year</p>
				<p class="font-semibold text-white text-2xl">{year}</p>
			</div>
          </div>
        </div>
      </div>
      <article class="mt-14 w-[98%] max-w-[1200px] text-white z-10 relative">
        <div class="prose">
          <div class="title">
          </div>
          <slot />
        </div>
      </article>
    </main>
    <Footer />
  </body>
</html>
